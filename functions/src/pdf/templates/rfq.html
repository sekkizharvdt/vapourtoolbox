<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request for Quotation - {{rfqNumber}}</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', 'Helvetica', sans-serif;
            font-size: 10pt;
            line-height: 1.4;
            color: #333;
        }

        .page {
            position: relative;
            width: 100%;
            padding: 0;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
        }

        .header-left {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }

        .company-logo {
            width: 60px;
            height: 60px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8pt;
            color: #999;
        }

        .company-logo img {
            max-width: 100%;
            max-height: 100%;
        }

        .company-info {
            text-align: left;
        }

        .company-name {
            font-size: 14pt;
            font-weight: bold;
            color: #333;
            margin-bottom: 3px;
        }

        .company-address {
            font-size: 9pt;
            color: #666;
            line-height: 1.4;
        }

        .company-gstin {
            font-size: 9pt;
            color: #666;
            margin-top: 2px;
        }

        /* RFQ Title */
        .rfq-main-title {
            text-align: center;
            font-size: 14pt;
            font-weight: bold;
            color: #333;
            margin: 25px 0 20px 0;
            text-decoration: underline;
        }

        /* Info Table - RFQ Details */
        .info-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .info-table th,
        .info-table td {
            border: 1px solid #333;
            padding: 8px 10px;
            text-align: left;
        }

        .info-table th {
            background-color: #f5f5f5;
            font-weight: bold;
            text-align: center;
        }

        .info-table td {
            text-align: center;
        }

        /* Section Title */
        .section-title {
            font-size: 11pt;
            font-weight: bold;
            color: #333;
            margin: 20px 0 10px 0;
            text-decoration: underline;
        }

        /* Vendor Table */
        .vendor-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .vendor-table td {
            border: 1px solid #333;
            padding: 6px 10px;
        }

        .vendor-table td:first-child {
            width: 25%;
            font-weight: normal;
            background-color: #f9f9f9;
        }

        /* RFQ Details Table */
        .rfq-details-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .rfq-details-table td {
            border: 1px solid #333;
            padding: 8px 10px;
        }

        .rfq-details-table td:first-child {
            width: 20%;
            font-weight: normal;
            background-color: #f9f9f9;
        }

        /* Submission Deadline */
        .deadline-box {
            margin: 20px 0;
            padding: 12px 15px;
            background-color: #fff;
            border: 1px solid #333;
        }

        .deadline-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .deadline-text {
            font-size: 10pt;
        }

        .deadline-text strong {
            font-weight: bold;
        }

        /* Items Table */
        .items-section-title {
            font-size: 11pt;
            font-weight: bold;
            color: #333;
            margin: 20px 0 10px 0;
            text-decoration: underline;
        }

        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 9pt;
        }

        .items-table th {
            border: 1px solid #333;
            padding: 8px 6px;
            text-align: center;
            font-weight: bold;
            background-color: #f5f5f5;
        }

        .items-table td {
            border: 1px solid #333;
            padding: 6px;
            vertical-align: top;
        }

        .items-table .col-sno {
            width: 6%;
            text-align: center;
        }

        .items-table .col-description {
            width: 30%;
        }

        .items-table .col-specification {
            width: 24%;
        }

        .items-table .col-qty {
            width: 8%;
            text-align: center;
        }

        .items-table .col-unit {
            width: 8%;
            text-align: center;
        }

        .items-table .col-unit-price {
            width: 12%;
            text-align: right;
        }

        .items-table .col-total-price {
            width: 12%;
            text-align: right;
        }

        /* Commercial Terms Table */
        .commercial-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .commercial-table td {
            border: 1px solid #333;
            padding: 6px 10px;
        }

        .commercial-table td:first-child {
            width: 25%;
            font-weight: normal;
            background-color: #f9f9f9;
        }

        /* Quotation Requirements */
        .requirements-list {
            list-style-type: disc;
            padding-left: 25px;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .requirements-list li {
            padding: 4px 0;
            line-height: 1.5;
        }

        /* General Terms */
        .terms-list {
            list-style-type: decimal;
            padding-left: 25px;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .terms-list li {
            padding: 3px 0;
            line-height: 1.5;
        }

        /* Vendor Response Table */
        .response-section-title {
            font-size: 11pt;
            font-weight: bold;
            color: #333;
            margin: 25px 0 10px 0;
            text-decoration: underline;
        }

        .response-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .response-table td {
            border: 1px solid #333;
            padding: 10px;
        }

        .response-table td:first-child {
            width: 35%;
            background-color: #f9f9f9;
        }

        .response-table td:last-child {
            min-height: 25px;
        }

        /* Contact Table */
        .contact-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .contact-table th {
            border: 1px solid #333;
            padding: 8px 10px;
            text-align: center;
            font-weight: bold;
            background-color: #f5f5f5;
        }

        .contact-table td {
            border: 1px solid #333;
            padding: 8px 10px;
            text-align: center;
        }

        /* Attachments Table */
        .attachments-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            font-size: 10pt;
        }

        .attachments-table th {
            border: 1px solid #333;
            padding: 8px 10px;
            background-color: #f5f5f5;
            font-weight: bold;
            text-align: left;
        }

        .attachments-table td {
            border: 1px solid #ddd;
            padding: 8px 10px;
        }

        .attachments-table a {
            color: #1976d2;
            text-decoration: none;
        }

        /* Page breaks */
        .page-break {
            page-break-after: always;
        }

        /* Print specific */
        @media print {
            body {
                print-color-adjust: exact;
                -webkit-print-color-adjust: exact;
            }
        }
    </style>
</head>
<body>
    <div class="page">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <div class="company-logo">
                    {{#if company.logoUrl}}
                    <img src="{{company.logoUrl}}" alt="Logo">
                    {{else}}
                    [ LOGO ]
                    {{/if}}
                </div>
                <div class="company-info">
                    <div class="company-name">{{company.name}}</div>
                    <div class="company-address">
                        {{#if company.address}}{{company.address}}{{else}}SP Arcade, D-54, 9A Cross Road,<br>West Thillai Nagar, Tiruchirappalli – 620018{{/if}}
                    </div>
                    {{#if company.gstin}}
                    <div class="company-gstin">GSTIN: {{company.gstin}}</div>
                    {{/if}}
                </div>
            </div>
        </div>

        <!-- RFQ Title -->
        <div class="rfq-main-title">REQUEST FOR QUOTATION (RFQ)</div>

        <!-- RFQ Info Table -->
        <table class="info-table">
            <tr>
                <th>RFQ No</th>
                <th>Issue Date</th>
                <th>Due Date</th>
                <th>Quote Validity</th>
            </tr>
            <tr>
                <td>{{rfqNumber}}</td>
                <td>{{issueDate}}</td>
                <td>{{dueDate}}</td>
                <td>{{#if validityPeriod}}{{validityPeriod}}{{else}}30 Days{{/if}}</td>
            </tr>
        </table>

        <!-- Vendor Section -->
        <div class="section-title">TO</div>
        {{#if isIndividualVendor}}
        <table class="vendor-table">
            <tr>
                <td>Vendor Name</td>
                <td>{{vendor.name}}</td>
            </tr>
            {{#if vendor.contactPerson}}
            <tr>
                <td>Contact Person</td>
                <td>{{vendor.contactPerson}}</td>
            </tr>
            {{/if}}
            {{#if vendor.email}}
            <tr>
                <td>Email</td>
                <td>{{vendor.email}}</td>
            </tr>
            {{/if}}
            {{#if vendor.address}}
            <tr>
                <td>Address</td>
                <td>{{vendor.address}}</td>
            </tr>
            {{/if}}
        </table>
        {{else}}
        <!-- Combined PDF - List all vendors -->
        <table class="vendor-table">
            {{#each vendors}}
            <tr>
                <td>{{#if @first}}Vendors{{else}}&nbsp;{{/if}}</td>
                <td>{{this.name}}{{#if this.email}} ({{this.email}}){{/if}}</td>
            </tr>
            {{/each}}
        </table>
        {{/if}}

        <!-- RFQ Details -->
        <table class="rfq-details-table">
            <tr>
                <td>RFQ Title</td>
                <td>{{rfq.title}}</td>
            </tr>
            {{#if rfq.projectNames.length}}
            <tr>
                <td>Project</td>
                <td>{{#each rfq.projectNames}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}</td>
            </tr>
            {{/if}}
            {{#if rfq.purchaseRequestNumbers.length}}
            <tr>
                <td>PR No</td>
                <td>{{#each rfq.purchaseRequestNumbers}}{{this}}{{#unless @last}}, {{/unless}}{{/each}}</td>
            </tr>
            {{/if}}
        </table>

        <!-- Submission Deadline -->
        <div class="deadline-box">
            <div class="deadline-title">SUBMISSION DEADLINE</div>
            <div class="deadline-text">
                Please submit your quotation by <strong>{{dueDate}}</strong>. Late submissions may not be considered.
                All prices should be valid for a minimum period as specified in the terms below.
            </div>
        </div>

        <!-- Items Required -->
        <div class="items-section-title">ITEMS REQUIRED</div>
        <table class="items-table">
            <thead>
                <tr>
                    <th class="col-sno">S.No</th>
                    <th class="col-description">Description</th>
                    <th class="col-specification">Specification</th>
                    <th class="col-qty">Qty</th>
                    <th class="col-unit">Unit</th>
                    <th class="col-unit-price">Unit Price</th>
                    <th class="col-total-price">Total Price</th>
                </tr>
            </thead>
            <tbody>
                {{#each items}}
                <tr>
                    <td class="col-sno">{{this.lineNumber}}</td>
                    <td class="col-description">{{this.description}}</td>
                    <td class="col-specification">
                        {{#if this.specification}}{{this.specification}}{{/if}}
                        {{#if this.technicalSpec}}{{#if this.specification}}<br>{{/if}}{{this.technicalSpec}}{{/if}}
                        {{#if this.makeModel}}{{#if this.specification}}{{#unless this.technicalSpec}}<br>{{/unless}}{{/if}}{{#if this.technicalSpec}}<br>{{/if}}Make/Model: {{this.makeModel}}{{/if}}
                    </td>
                    <td class="col-qty">{{this.quantity}}</td>
                    <td class="col-unit">{{this.unit}}</td>
                    <td class="col-unit-price"></td>
                    <td class="col-total-price"></td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <!-- Commercial Terms -->
        <div class="section-title">COMMERCIAL TERMS</div>
        <table class="commercial-table">
            <tr>
                <td>Payment Terms</td>
                <td>{{#if paymentTerms}}{{#each paymentTerms}}{{this}}{{#unless @last}}; {{/unless}}{{/each}}{{else}}As per the vendor{{/if}}</td>
            </tr>
            <tr>
                <td>Delivery Terms</td>
                <td>{{#if deliveryTerms}}{{#each deliveryTerms}}{{this}}{{#unless @last}}; {{/unless}}{{/each}}{{else}}As per the vendor{{/if}}</td>
            </tr>
            <tr>
                <td>Warranty</td>
                <td>{{#if warrantyTerms}}{{#each warrantyTerms}}{{this}}{{#unless @last}}; {{/unless}}{{/each}}{{else}}As applicable / NA{{/if}}</td>
            </tr>
        </table>

        <!-- Quotation Requirements -->
        <div class="section-title">QUOTATION REQUIREMENTS</div>
        <ul class="requirements-list">
            <li>Quote unit price and total price for each line item</li>
            <li>Specify delivery period / lead time for each item</li>
            <li>Mention any deviations from specifications clearly, if any</li>
            <li>Prices to be inclusive of all applicable taxes (GST)</li>
            <li>Quotation validity minimum {{#if validityPeriod}}{{validityPeriod}}{{else}}30 days{{/if}}</li>
            <li>Attach relevant certificates, test reports and technical documents where applicable</li>
        </ul>

        <!-- General Terms & Conditions -->
        <div class="section-title">GENERAL TERMS & CONDITIONS</div>
        <ol class="terms-list">
            {{#if generalTerms}}
            {{#each generalTerms}}
            <li>{{this}}</li>
            {{/each}}
            {{else}}
            <li>All specifications mentioned are minimum requirements.</li>
            <li>Vendor must provide detailed technical specifications.</li>
            <li>Prices shall include all applicable taxes unless stated otherwise.</li>
            {{/if}}
        </ol>

        {{#if customNotes}}
        <div class="section-title">ADDITIONAL NOTES</div>
        <p style="margin-bottom: 20px;">{{customNotes}}</p>
        {{/if}}

        {{#if rfq.attachments.length}}
        <!-- Supporting Documents from Purchase Request(s) -->
        <div class="section-title">SUPPORTING DOCUMENTS</div>
        <table class="attachments-table">
            <thead>
                <tr>
                    <th style="width: 40%">File Name</th>
                    <th style="width: 25%">Type</th>
                    <th style="width: 35%">Description / Link</th>
                </tr>
            </thead>
            <tbody>
                {{#each rfq.attachments}}
                <tr>
                    <td>{{this.fileName}}</td>
                    <td>{{this.attachmentType}}</td>
                    <td>
                        {{#if this.publicUrl}}
                        <a href="{{this.publicUrl}}">Download</a>
                        {{#if this.description}} — {{this.description}}{{/if}}
                        {{else}}
                        {{this.description}}
                        {{/if}}
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>
        {{/if}}

        <!-- Vendor Response Section -->
        <div class="response-section-title">VENDOR RESPONSE (To be filled by Vendor)</div>
        <table class="response-table">
            <tr>
                <td>Quote Reference No</td>
                <td></td>
            </tr>
            <tr>
                <td>Quote Date</td>
                <td></td>
            </tr>
            <tr>
                <td>Quote Validity (Days)</td>
                <td></td>
            </tr>
            <tr>
                <td>Delivery Period</td>
                <td></td>
            </tr>
            <tr>
                <td>Total Basic Amount</td>
                <td></td>
            </tr>
            <tr>
                <td>Total Tax (GST)</td>
                <td></td>
            </tr>
            <tr>
                <td>Grand Total</td>
                <td></td>
            </tr>
            <tr>
                <td>Payment Terms Accepted (Y/N)</td>
                <td></td>
            </tr>
            <tr>
                <td>Remarks (if any)</td>
                <td></td>
            </tr>
        </table>

        <!-- Contact Section -->
        <div class="section-title">FOR QUERIES, PLEASE CONTACT</div>
        <table class="contact-table">
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
            </tr>
            <tr>
                <td>{{#if contact.name}}{{contact.name}}{{else}}A.Kumaran{{/if}}</td>
                <td>{{#if contact.email}}{{contact.email}}{{else}}procurement@vapourdesal.com{{/if}}</td>
                <td>{{#if contact.phone}}{{contact.phone}}{{else}}9786385661{{/if}}</td>
            </tr>
        </table>

    </div>
</body>
</html>
